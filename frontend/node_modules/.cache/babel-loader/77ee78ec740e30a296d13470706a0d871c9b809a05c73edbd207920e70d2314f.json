{"ast":null,"code":"// src/pages/Search.js\nimport React,{useState,useContext}from'react';import api from'../utils/api';import MovieCard from'../components/Movie/MovieCard';import{AuthContext}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Search=()=>{const[query,setQuery]=useState('');const[results,setResults]=useState([]);const{user}=useContext(AuthContext);// Retain this if you plan to use user information later\nconst handleSearch=async e=>{e.preventDefault();if(!query){alert('Please enter a search query');return;}try{const{data}=await api.get(\"/movies/search?query=\".concat(query));setResults(data.Search||[]);}catch(error){console.error('Error fetching search results:',error);alert('An error occurred while searching. Please try again later.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"py-4\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search movies...\",value:query,onChange:e=>setQuery(e.target.value),className:\"border p-2 rounded w-full\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-2\",children:\"Search\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 grid grid-cols-4 gap-4\",children:results.map(movie=>/*#__PURE__*/_jsx(MovieCard,{movie:movie},movie.imdbID))})]});};export default Search;","map":{"version":3,"names":["React","useState","useContext","api","MovieCard","AuthContext","jsx","_jsx","jsxs","_jsxs","Search","query","setQuery","results","setResults","user","handleSearch","e","preventDefault","alert","data","get","concat","error","console","className","children","onSubmit","type","placeholder","value","onChange","target","map","movie","imdbID"],"sources":["C:/Users/Anoop Pandey/Desktop/Anoop/movieapp/frontend/src/pages/Search.js"],"sourcesContent":["// src/pages/Search.js\r\nimport React, { useState, useContext } from 'react';\r\nimport api from '../utils/api';\r\nimport MovieCard from '../components/Movie/MovieCard';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst Search = () => {\r\n  const [query, setQuery] = useState('');\r\n  const [results, setResults] = useState([]);\r\n  const { user } = useContext(AuthContext); // Retain this if you plan to use user information later\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    if (!query) {\r\n      alert('Please enter a search query');\r\n      return;\r\n    }\r\n    try {\r\n      const { data } = await api.get(`/movies/search?query=${query}`);\r\n      setResults(data.Search || []);\r\n    } catch (error) {\r\n      console.error('Error fetching search results:', error);\r\n      alert('An error occurred while searching. Please try again later.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto\">\r\n      <div className=\"py-4\">\r\n        <form onSubmit={handleSearch}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search movies...\"\r\n            value={query}\r\n            onChange={(e) => setQuery(e.target.value)}\r\n            className=\"border p-2 rounded w-full\"\r\n          />\r\n          <button type=\"submit\" className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-2\">\r\n            Search\r\n          </button>\r\n        </form>\r\n      </div>\r\n      <div className=\"mt-8 grid grid-cols-4 gap-4\">\r\n        {results.map((movie) => (\r\n          <MovieCard key={movie.imdbID} movie={movie} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CACnD,MAAO,CAAAC,GAAG,KAAM,cAAc,CAC9B,MAAO,CAAAC,SAAS,KAAM,+BAA+B,CACrD,OAASC,WAAW,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAEc,IAAK,CAAC,CAAGb,UAAU,CAACG,WAAW,CAAC,CAAE;AAE1C,KAAM,CAAAW,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAACP,KAAK,CAAE,CACVQ,KAAK,CAAC,6BAA6B,CAAC,CACpC,OACF,CACA,GAAI,CACF,KAAM,CAAEC,IAAK,CAAC,CAAG,KAAM,CAAAjB,GAAG,CAACkB,GAAG,yBAAAC,MAAA,CAAyBX,KAAK,CAAE,CAAC,CAC/DG,UAAU,CAACM,IAAI,CAACV,MAAM,EAAI,EAAE,CAAC,CAC/B,CAAE,MAAOa,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CACtDJ,KAAK,CAAC,4DAA4D,CAAC,CACrE,CACF,CAAC,CAED,mBACEV,KAAA,QAAKgB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCnB,IAAA,QAAKkB,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBjB,KAAA,SAAMkB,QAAQ,CAAEX,YAAa,CAAAU,QAAA,eAC3BnB,IAAA,UACEqB,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,kBAAkB,CAC9BC,KAAK,CAAEnB,KAAM,CACboB,QAAQ,CAAGd,CAAC,EAAKL,QAAQ,CAACK,CAAC,CAACe,MAAM,CAACF,KAAK,CAAE,CAC1CL,SAAS,CAAC,2BAA2B,CACtC,CAAC,cACFlB,IAAA,WAAQqB,IAAI,CAAC,QAAQ,CAACH,SAAS,CAAC,2EAA2E,CAAAC,QAAA,CAAC,QAE5G,CAAQ,CAAC,EACL,CAAC,CACJ,CAAC,cACNnB,IAAA,QAAKkB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CACzCb,OAAO,CAACoB,GAAG,CAAEC,KAAK,eACjB3B,IAAA,CAACH,SAAS,EAAoB8B,KAAK,CAAEA,KAAM,EAA3BA,KAAK,CAACC,MAAuB,CAC9C,CAAC,CACC,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}